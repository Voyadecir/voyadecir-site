<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Voyadecir — Mail & Bills Helper</title>
  <meta name="description" content="Upload or snap a photo of your bill or mail. We’ll read it, extract key info, and summarize it in your language.">

  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
  <link rel="alternate icon" href="assets/img/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="assets/img/favicon.ico">

  <!-- match dark / ink background -->
  <meta name="theme-color" content="#020617">

  <link rel="manifest" href="manifest.webmanifest">

  <!-- use latest CSS + JS -->
  <link rel="stylesheet" href="assets/css/styles.css?v=11">
  <script defer src="assets/js/main.js?v=5"></script>
  <script defer src="assets/js/mailbills.js?v=mb3"></script>
</head>

<!-- Mail & Bills page class for larger fonts -->
<body class="mailbills-page">
  <header>
    <div class="container nav">
      <div class="brand">
        <img
          src="assets/img/logo.png"
          alt="Voyadecir Logo"
          class="logo"
          onerror="this.onerror=null;this.src='assets/img/logo.svg';">
        <div>
          <div data-i18n="brand.title">Voyadecir</div>
          <small class="tagline" data-i18n="brand.tagline">Translate. Understand. Connect.</small>
        </div>
      </div>

      <nav>
        <a href="index.html" data-i18n="nav.home">Home</a>
        <a href="translate.html" data-i18n="nav.translate">Translate</a>
        <a href="mail-bills.html" data-i18n="nav.mailbills">Mail &amp; Bills</a>
        <a href="about.html" data-i18n="nav.about">About</a>
        <a href="contact.html" data-i18n="nav.contact">Contact</a>
        <!-- No language control in the header on this page -->
      </nav>
    </div>
  </header>

  <main class="container section">
    <div class="translate-shell">

      <!-- Language picker centered above Mail & Bills title -->
      <div class="lang-menu lang-menu--hero">
        <input
          type="checkbox"
          id="lang-menu-toggle"
          class="lang-menu__toggler"
          aria-label="Open language menu">
        <!-- Added glass-button so icon matches other pages -->
        <button class="lang-menu__button glass-button" type="button" aria-label="Change language">
          <img
            src="assets/img/lang-icon.png"
            alt="Language"
            class="lang-menu__icon">
        </button>
        <ul class="lang-menu__list">
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="en">EN</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="es">ES</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="pt">PT</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="fr">FR</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="zh">中文</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="hi">हिन्दी</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="ar">العربية</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="bn">বাংলা</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="ru">РУ</button>
          </li>
          <li class="lang-menu__item">
            <button type="button" class="lang-menu__link js-lang-option" data-lang="ur">اردو</button>
          </li>
        </ul>
      </div>

      <h1 class="translate-title" data-i18n="mb.title">Mail &amp; Bills Helper</h1>
      <p class="translate-sub" data-i18n="mb.sub">
        Upload a bill or letter. We’ll read it, extract key info, and summarize it in your language.
      </p>

      <div class="translate-actions">
        <!-- Updated: allow multi-file selection for multi-page docs -->
        <input type="file" id="file-input" accept=".pdf,image/*" multiple style="display:none;">
        <!-- Camera typically returns a single image; keep single-file -->
        <input type="file" id="camera-input" accept="image/*" capture="environment" style="display:none;">

        <!-- All actions: glass buttons -->
        <button type="button" class="glass-button translate-btn" id="btn-upload">
          <span class="icon-doc"></span>
          <span data-i18n="mb.btnUpload">Upload document</span>
        </button>

        <button type="button" class="glass-button translate-btn" id="btn-camera">
          <span class="icon-camera"></span>
          <span data-i18n="mb.btnCamera">Take picture</span>
        </button>

        <button
          type="button"
          class="glass-button translate-btn secondary"
          id="btn-listen"
          disabled
          title="Coming soon">
          <span class="icon-audio"></span>
          <span data-i18n="mb.btnListen">Read it to me (soon)</span>
        </button>

        <!-- Manual translate button (uses existing translator API) -->
        <button type="button" class="glass-button translate-btn" id="mb-translate-run">
          <span class="icon-doc"></span>
          <span data-i18n="translate.run">Translate</span>
        </button>

        <button type="button" class="glass-button translate-btn secondary" id="mb-clear">
          <span data-i18n="mb.btnClear">Clear</span>
        </button>
      </div>

      <!-- Translator: clear glass outer frame + black inner textareas -->
      <div class="translator-outer glass-panel">
        <div class="translator-ui">
          <div class="translator-topbar">
            <div class="translator-lang">
              <label data-i18n="translate.from">
                From
                <select id="mb-src-lang" disabled>
                  <option value="auto">Auto</option>
                </select>
              </label>

              <button
                type="button"
                id="mb-swap-langs"
                class="glass-button swap-btn"
                title="Swap languages">
                <span data-i18n="translate.swap">⇄</span>
              </button>

              <label data-i18n="translate.to">
                To
                <select id="mb-tgt-lang">
                  <option value="es">Spanish</option>
                  <option value="en">English</option>
                  <option value="pt">Portuguese</option>
                  <option value="fr">French</option>
                  <option value="zh">Chinese</option>
                  <option value="hi">Hindi</option>
                  <option value="ar">Arabic</option>
                  <option value="bn">Bengali</option>
                  <option value="ru">Russian</option>
                  <option value="ur">Urdu</option>
                </select>
              </label>
            </div>
          </div>

          <div class="translator-panels">
            <div class="translator-box">
              <textarea
                id="ocr-text"
                placeholder="Text from your document will appear here..."
                data-i18n-placeholder="mb.ocrPlaceholder"
              ></textarea>
              <div style="margin-top:8px;">
                <button type="button" class="glass-button inline-btn" id="mb-copy-ocr">
                  <span data-i18n="mb.copyOcr">Copy text</span>
                </button>
              </div>
            </div>

            <div class="translator-box">
              <textarea
                id="summary-text"
                placeholder="Summary will appear here..."
                readonly
              ></textarea>

              <!-- Copy Summary + Download PDF side-by-side -->
              <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:8px;">
                <button type="button" class="glass-button inline-btn" id="mb-copy-summary">
                  <span data-i18n="mb.copySummary">Copy summary</span>
                </button>

                <button type="button" class="glass-button inline-btn" id="mb-download-pdf">
                  <span data-i18n="mb.downloadPdf">Download translated PDF</span>
                </button>
              </div>
            </div>
          </div>

          <div class="translator-foot">
            <span class="translator-hint" data-i18n="mb.hint">
              Tip: clear, well-lit photos give the best results.
            </span>
            <span id="status-line">Ready</span>
          </div>
        </div>
      </div>

      <!-- Results card: liquid glass too -->
      <div class="results-card glass" id="results-card" style="display:none;">
        <!-- Title that the JS can localize -->
        <h2 id="results-title" data-i18n="mb.results.title">
          Key details from your bill
        </h2>

        <!-- Grid of key fields -->
        <div class="results-grid">
          <div class="result-row">
            <div class="result-label" id="label-amount" data-i18n="mb.amount">
              Amount due
            </div>
            <div class="result-value" id="r-amount">—</div>
          </div>

          <div class="result-row">
            <div class="result-label" id="label-duedate" data-i18n="mb.duedate">
              Due date
            </div>
            <div class="result-value" id="r-duedate">—</div>
          </div>

          <div class="result-row">
            <div class="result-label" id="label-acct" data-i18n="mb.account">
              Account #
            </div>
            <div class="result-value" id="r-acct">—</div>
          </div>

          <div class="result-row">
            <div class="result-label" id="label-sender" data-i18n="mb.sender">
              Sender
            </div>
            <div class="result-value" id="r-sender">—</div>
          </div>

          <div class="result-row">
            <div class="result-label" id="label-address" data-i18n="mb.address">
              Service address
            </div>
            <div class="result-value" id="r-address">—</div>
          </div>
        </div>

        <!-- Identity requirements -->
        <div class="result-section" id="identity-section" style="display:none;">
          <h3 data-i18n="mb.identityTitle">What you’ll need</h3>
          <ul id="identity-list"></ul>
        </div>

        <!-- Payment options -->
        <div class="result-section" id="payment-section" style="display:none;">
          <h3 data-i18n="mb.paymentTitle">How you can pay</h3>
          <ul id="payment-list"></ul>
        </div>

        <!-- Other important amounts -->
        <div class="result-section" id="other-amounts-section" style="display:none;">
          <h3 data-i18n="mb.otherAmountsTitle">Other important amounts</h3>
          <ul id="other-amounts-list"></ul>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">© 2025 Voyadecir — All rights reserved.</div>
  </footer>
</body>
</html>
